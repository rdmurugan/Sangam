# Coturn TURN Server Configuration

# Listening port for TURN/STUN
listening-port=3478

# External IP (will be set via environment variable)
# external-ip will be auto-detected on Render

# Relay IP (internal IP, auto-detected)
# relay-ip will be auto-detected

# TURN server realm
realm=sangam.video

# Server name
server-name=sangam-turn

# Use fingerprints in TURN messages
fingerprint

# Use long-term credentials
lt-cred-mech

# User credentials (username:password format)
# For production, use environment variables
user=sangam:${TURN_SECRET}

# Total quota in bytes per allocation (10MB)
user-quota=10000000

# Total quota in bytes per session (100MB)
total-quota=100000000

# Max bps per session
max-bps=1000000

# Deny loopback addresses
no-loopback-peers

# Deny private IP addresses
no-multicast-peers

# Enable Prometheus monitoring
# prometheus

# Logging
log-file=stdout
verbose

# Port range for media relay
min-port=49152
max-port=65535

# Deny certain peer IPs for security
denied-peer-ip=0.0.0.0-0.255.255.255
denied-peer-ip=127.0.0.0-127.255.255.255
denied-peer-ip=10.0.0.0-10.255.255.255
denied-peer-ip=172.16.0.0-172.31.255.255
denied-peer-ip=192.168.0.0-192.168.255.255

# Allow only certain IPs to use TURN (optional, remove to allow all)
# allowed-peer-ip=0.0.0.0-255.255.255.255

# Enable TLS (optional, for production)
# cert=/path/to/cert.pem
# pkey=/path/to/key.pem

# Disable TLS for now (testing)
no-tls
no-dtls

# Allow UDP relay
# Allow TCP relay
no-tcp-relay
